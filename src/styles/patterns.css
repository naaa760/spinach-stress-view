.gradient-bg {
  background: radial-gradient(
      circle at 30% 30%,
      rgba(165, 214, 167, 0.15),
      transparent 60%
    ),
    radial-gradient(
      circle at 70% 70%,
      rgba(129, 199, 132, 0.1),
      transparent 40%
    ),
    radial-gradient(circle at 90% 20%, rgba(76, 175, 80, 0.05), transparent 50%),
    linear-gradient(135deg, rgba(250, 250, 250, 0.4), rgba(240, 255, 240, 0.8));
}

.map-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  background: linear-gradient(transparent 90%, rgba(46, 125, 50, 0.05) 100%),
    linear-gradient(
      90deg,
      rgba(38, 50, 56, 0.02) 0%,
      transparent 20%,
      transparent 80%,
      rgba(38, 50, 56, 0.02) 100%
    );
  z-index: 800;
}

.control-panel {
  backdrop-filter: blur(5px);
  background-color: rgba(255, 255, 255, 0.92) !important;
}

.app-header {
  backdrop-filter: blur(5px);
  background-color: rgba(255, 255, 255, 0.85) !important;
}

/* Subtle grid pattern */
.map-container::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: linear-gradient(rgba(0, 0, 0, 0.01) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0, 0, 0, 0.01) 1px, transparent 1px);
  background-size: 20px 20px;
  pointer-events: none;
  z-index: 700;
}

/* Add subtle grain texture */
.map-container::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAUVBMVEWFhYWDg4N3d3dtbW17e3t1dXWBgYGHh4d5eXlzc3OLi4ubm5uVlZWPj4+NjY19fX2JiYl/f39ra2uRkZGZmZlpaWmXl5dvb29xcXGTk5NnZ2c8TV1mAAAAG3RSTlNAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAvEOwtAAAFVklEQVR4XpWWB67c2BUFb3g557T/hRo9/WUMZHlgr4Bg8Z4qQgQJlHI4A8SzFVrapvmTF9O7dmYRFZ60YiBhJRCgh1FYhiLAmdvX0CzTOpNE77ME0Zty/nWWzchDtiqrmsub2830p3wO4gjyk7Q3zn8OG4nfMj300EGO0JeJ6tOPaM8ispsK8OPBaXmyaPF6uMtNdm9p9TIQeQ32SV4e1gYlTbXBzrFMzlnUWS6WLDrXrssrXZUuuRZlErHZEnkR7K+zqwat4WFO/dHOvpH+7Pz/4/4/Hx+P1j+/H+z+P77z/t7D9++fmzz/CL1giDXdV/XwXCOmUsXoOBaSBIu+ml3X8UoVwqUC3ZQr8w5Rq6K6foo6UKu2NlZrlYvcZQg22WmXnGaZcOYMiJBTH6f59eOYOD57/+5rtHzvzK4F6t9XM328OKpwZweDix9cZ4Y59+7rHCvBQmxGUqsdGzKy/MsZ2NQh1Qag9wVUfEhdFAqtgKM/v245Hf5lAWGl3wPbr2NiYOjL1nTJQUbB4PJyFQpgGlJzNHa7sbqyrfTJQGXHd3+jTNgA4/3TnAIHQTzXabpmXBfga3EFEUFkGkyN4e1AM/RB92wGjaHbZZY0ZQUB1iKJhMEXtvsvnXsUdEdt1/Kwlew4D1l3X6GrI1Jyh1YrcLkdmPBN1g+1ukLiFZKcGxAZ7O9OUoG/8IB7tBnq+axDQxX7krTjEsG18YGXuzOEQqjfhmzAf4r9am7ooJEziApfuX4qt84QTbfeEzt7m2Y4RzDst9VsKY8yuI8SkVQpQQi/axmBFiOWEauKl7jdNZc+bLJm5yGqmBV5OzJeBUqyVYLbZUO6FUfM1ncEbzSyP92vODeMnBuIpxqQTZc7Qaq4uQJvrbvzX8k4/BWLegLsHYa8F1chkh8Z6Qqhxq1UTD03RSN7hGZfZ2GC0U5fq6iN7QKfqGsRSrAQr4Jj0/zCQsmbz9VRuFGMBiqPEvKQsA7QqZ1yGEGwVTnvDGUP67KmyK7iCEd9411aGmzSqP5UUKy3Q/HxZxJmNitqvRNbfOSQOQTf9lkPsjN+xPRHl2zMQhmfJXhUXqTL0xjJ7TZ1LF9tk0Z1ujd2uXpuL+P0Mb9JVAg01T8GsJxvHyymfOYyG3UUhyuRAG9L9Z4NxFv49uGiP1eUgKqXKyXfZLPQjLl3fMlo/ZbhkzMBpPLQVWk5FNE8xFNl3VEI8b59/aUiG/nkZbfKmC1FkE5Rg0cwT4QIXlYELWybkZE7YFqquPvwGsEjDbrKzQh8saWG50OxJVYDVGoJYvGC8TaHEuIKrUQrjXaXaDvXnpzlbn9qfebFO/PQtGTPn7FlO5+7PuQbdzel9GNO9yT8nycVynHgiMw8IKU/XTHZjV5m2xl89dIe+0xCgbL/cQSjIbEJqUdFLPB0jC3k2KzJYVQOZ0DWGmVVLKQEyWZX6nRq8c/AYSHL0SdFAQ/zvCLeKZHwEWHMUY0RnQSiCl9Akwm0OLjzWv3Vdh+jdZPCqgpvZ9mc80/ziJaXOB9IxfYXGjXnZVy4E4eLJJmOiDLJtS8JGLJcuSURXxzUNu5qHWGbgMwCG5muFP5vcdQHF6ukYAneFB/UoGVMbMcfTr//W2mIbTspfmcigYA3z3TAaG9kuzlWnTODcZ6m8mzf4nlEq+5n4fKx3l3vdQsQZFNHLxNhS/+xjE/jNYPfkuT6d55hh1Yd17H9J5XrNYHQdGXeWmx3dh+P1ofIWd1i055qjMazXe7am6ViYDzbpMYl8GDenoxHZGnvSJJdMNHiJEOa7d6//1fmQg969WF1Nl9/NfWfj1OQP3/xvvP53p39HzjW8tX/wADZqU2z0pME4AAAAASUVORK5CYII=");
  opacity: 0.03;
  z-index: 710;
}

/* Scale bar enhancement */
.leaflet-control-scale {
  background: rgba(255, 255, 255, 0.85) !important;
  backdrop-filter: blur(5px);
  border-radius: 8px !important;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
  border: none !important;
  padding: 5px 8px !important;
}

.leaflet-control-scale-line {
  border-color: rgba(0, 0, 0, 0.15) !important;
  color: #37474f !important;
  font-family: var(--font-mono) !important;
  font-size: 11px !important;
  border-width: 1px 1px 0 !important;
}

/* Attribution styling */
.leaflet-control-attribution {
  background: rgba(255, 255, 255, 0.85) !important;
  backdrop-filter: blur(5px);
  font-family: var(--font-primary) !important;
  padding: 4px 8px !important;
  border-radius: 8px 0 0 0 !important;
}

/* Enhanced loading animation */
.loading-overlay {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  z-index: 9999;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  animation: fadeIn 0.3s ease-out;
}

.loading-spinner {
  width: 60px;
  height: 60px;
  position: relative;
}

.loading-spinner:before,
.loading-spinner:after {
  content: "";
  position: absolute;
  border-radius: 50%;
  animation-duration: 1.8s;
  animation-iteration-count: infinite;
  animation-timing-function: ease-in-out;
  filter: drop-shadow(0 0 10px rgba(67, 160, 71, 0.2));
}

.loading-spinner:before {
  width: 100%;
  height: 100%;
  background-color: rgba(67, 160, 71, 0.7);
  animation-name: pulsate;
}

.loading-spinner:after {
  width: 100%;
  height: 100%;
  background-color: rgba(67, 160, 71, 0.3);
  animation-name: pulsate-echo;
}

@keyframes pulsate {
  0% {
    transform: scale(0);
    opacity: 1;
  }
  100% {
    transform: scale(1);
    opacity: 0;
  }
}

@keyframes pulsate-echo {
  0% {
    transform: scale(0);
    opacity: 0.5;
  }
  100% {
    transform: scale(1);
    opacity: 0;
  }
}

.loading-text {
  font-family: var(--font-primary);
  font-weight: 500;
  font-size: 16px;
  letter-spacing: 0.5px;
  color: #2e7d32;
  margin-top: 24px;
  background: linear-gradient(90deg, #2e7d32, #43a047);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  animation: loadingTextPulse 2s infinite;
}

@keyframes loadingTextPulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}
